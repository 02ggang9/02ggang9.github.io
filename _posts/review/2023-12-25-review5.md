---
published: false
title:  "회고 - 2023.12.25 ~ 2023.12.31"
categories:
  - review
---

## 2023.12.27 (수)

26일에 정수원님의 spring batch 강의를 들음. 강의 다 듣고 메일링 서비스를 만들어 볼까? 했는데 강의가 45시간임. 도무지 줄어들 기미도 안 보이고, 이론 부분도 좀 있어서 까먹음..

그래서 듣다가 중단하고 메일링 서비스를 만들면서 부족하다고 생각한 부분을 선택해서 듣기로 결정함. 제일 첫번째는 Rest API + Spring batch를 실행시켜 보는 것.

### 1
Spring batch + Rest API 도전
JobParameter ??
Job을 실행할 때 함께 포함되어 사용되는 파라미터를 가진 도메인 객체
하나의 Job에 존재할 수 있는 여러개의 JobInstance를 구분하기 위한 용도

어 형이야 ㅋㅋ 바로 만들어버림
https://github.com/02ggang9/springBatch/commit/6054efae2c677e36548a5ed475322eb2967eafd7

구현할 때 발생한 문제점과 아쉬운 점
1. 프론트에서 LocalDate를 넘겨줬을 때 이걸 Date로 변경해야함. 이건 우아한 스프링 배치 동영상 참고해서 해결하면 좋을 듯 (아쉬움)

2. 두번째로 api 요청을 보내면 예외터짐. 이거 왜 그런지 잘 모르곘음

3. dto형식 나중에 변경하면 될 듯.

### 2
STEP2는 뭘 해야하나
jpa 붙이고 DB에 목 객체 넣음 한 2개 넣자.
step1에서 db 데이터 찾고
step2에서 출력하도록 해보자

어 형이야 ㅋㅋ 이것까지 오케이
https://github.com/02ggang9/springBatch/commit/02b0befe25c5cb3d39d2d6cc9b6ede6be470bcf1

### 3
테스트가 좀 불편함. 계속 테이블에 있는 row 삭제하고 해야함. 왜냐하면 jobParameter가 같으면
Job은 실행이 안됨 ㅋㅋ;

그래서 테스트를 위해서 randomStringForTest도 map에 넣어서 항상 다른 jobParameter를 보장함. randomStringGenerator를 만듬

## 2023.12.28 (목)

### 4
이제 뭘 해야하냐

이메일 기능 완성함.
계속 mailauthenticationexception 예외가 터짐. 옛날에는 단순하게 보안 수준이 낮은 앱의 액세스 항목을 끄면 됐는데
이제는 못하게 막아둠. 그래서 2차 인증하고 앱 비밀번호를 만들고 yml에 박아넣으면 됨.

그리고 구조적인 문제가 있는 것 같음. 과연 메일의 제목과 본문이 job parameter에 담겨도 될까? 아키텍처로 풀 수 있으면 좋은데
아직 마땅히 생각이 안남..ㅠㅠ;

### 5
이제 뭘 해야하냐

MIT 라이센스

Writer 부분에 뭘 해야할지 결정해야함


### 6
그 실패할 경우 어떻게 뒷 처리 할 것인지 설정해야함.


### 7
선배님들 이메일 추가하거나 삭제하는 기능도 완성해야 함.

### 8 
그 md 형식으로 ### 같은 문자가 오면 볼드체를 하거나 그런 기능을 넣고 싶음

### 8.5 
리드미 작성

### 9 
교수님한테 검사

### 10
스프링 시큐리티 달아서 권한 검사 정도만 하면 끝날듯?

### 11 
배포

