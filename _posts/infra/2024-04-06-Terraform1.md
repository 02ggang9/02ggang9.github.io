---
published: true
title:  "Terraform - IAM 자동화"
categories:
  - infra
---


## 서론

학교에서 듣는 클라우드컴퓨팅 수업에서 IaC라는 것을 들었습니다. 간단히 말하면 "인프라를 코드로 관리하자!" 인데 처음 봤을 때는 굳이 코드로 관리해야 하나? 나는 UI가 편한데? 라는 생각을 하고 가볍게 흘렸습니다. 하지만, 아래의 여러가지 문제가 생겨 Terraform을 공부하게 되었습니다.

### 날이 갈수록 증가하는 KEEPER 서버비 문제
현재 KEEPER 서버비는 9만원대를 찍고 10만원대로 달려가고 있습니다. 대부분의 돈은 EC2 인스턴스로 나가는데, t3.small을 사용하고 있습니다. 하지만 사용하고 있는 리소스를 분석해보면 t3.micro(free tier)로 충분했습니다. 따라서 1년에 한번씩 프리티어 계정을 만들어서 돌려막기를 한다면 1만원대로 줄일 수 있을 것 같았습니다.

### KEEPER, Doore 인프라 인수인계
이제 곧 졸업을 해야 해서 인프라 후계자를 뽑아야 합니다. 다른 부서의 후계자는 정말 뽑기 쉬운데 인프라 담당자 뽑기는 정말 힘든 것 같습니다. AWS 부트캠프 조교를 했을 때, 도커를 사용할 수 있는 사람이 30명 중 3명(저포함)이였고, 동아리 내에는 더욱 찾기 힘들었습니다. 

### 졸업과제때 사용할 서버 구축
쿠버네티스를 사용하기 위해서는 3대의 서버를 구축해야 하는데, 동일한 환경 셋팅 3번 해야 한다는 생각에 숨이 턱 막혔습니다.

위의 3가지 이유로 테라폼을 공부해야겠다고 마음먹었습니다. 테라폼을 사용해 코드로 인프라를 관리하게 된다면, 제 후계자는 AWS 계정만 만든다면, terraform apply로 쉽게 동일한 환경의 서버를 구축할 수 있을 것 입니다. 또, 저만의 base 코드를 작성한다면 졸업과제를 할 때 서버 구축이 정말로 편해질 것 같았습니다.

아래에서는 Terraform을 이용해서 IAM을 자동으로 만들어보도록 하겠습니다.


## 본론


## 결론


