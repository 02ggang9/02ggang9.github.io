---
published: false
title:  "Spring Boot - 독립 실행형 서블릿 애플리케이션"
categories:
  - spring
---

## Containerless 개발 준비

스프링 컨테이너에 올라가는 빈들만 작업에만 집중할 수 있도록. main method만 동작시켜도 스프링 어플리케이션을 동작시키고 싶음.

톰캣을 설치하고 이런 부분이 없고 main 메소드만 실행시켰는데 톰캣이 뜸. run이라는 스태틱 메서드만 실행하고 어노테이션만 있는데 어플리케이션이 동작함.

텅 빈 서블릿 컨테이너를 띄워보자.
스프링 이니셜라이저로 하면 임베디드 톰캣이 있음. 

서블릿 하나를 만들어 봤는데 서블릿들이 하는 중복된 작업이 있음. 파라미터 추출, URI 매핑, 메서드 추출, 등등.. 중복을 줄이기 위해서 프론트 컨트롤러라는 것을 도입함. 

프론트 컨트롤러 -> Handler

Enum으로 등록되어있는 것을 사용하자. 하드 코딩은 ㄴㄴ

## 스프링 부트 살펴보기

스프링 부트는 프로젝트를 시작하게 도와주는 tool이 아닌가, 아니면 스프링 어플리케이션 기능을 확장하는 라이브러리이다. 스프링 부트의 개발자들은 정확히 이런겁니다라고 명확하게 얘기를 하지 않음. 레퍼런스 메뉴얼을 읽어보면 스프링부트는 어떤 것을 해준다, 어떤 것을 해주고 어떤 목표가 있다고 얼렁뚱땅 넘어감.

스프링 부트는 스프링을 기반으로 실무 환경에 사용 가능한 수준의 독립 실행형 애플리케이션을 복잡한 고민 없이 빠르게 작성할 수 있게 도와줍니다. (공식 메뉴얼)

스프링을 기반으로 어플리케이션을 만드는데 잘 만들도록 도와주는것ㅇㅁ. "독립 실행형" 어플리케이션 standalone application.

보통 엔터프라이즈 어플리케이션은 웹을 기반이기 때문에 만들고 WAR 파일 같이 패키징을 해서 서버에다가 배포를 하고 (서버를 설치하고 ) 그 위에서 동작하도록 함.

jar로 압축해 놓은 코드라면 애플리케이션 전체를 실행시킬 수 있도록 해줌. 복잡한 고민이 필요 없고 빠르게 작성할 수 있다.

스프링 부트는 그런거 할 필요 없이 그냥 빠르게 작성할 수 있게 해줄게. 스프링 부트가 등작했던 초반 nodejs처럼 커맨드 라인에서 몇 줄 치면 db도 연결하고 웹 페이지도 리턴해줌. 되게 빠르게 할 수 있음.

옛날에는 구 시대적인 방법을 씀. 스프링 부트는 이런 옛날 방식에서 벗어나고 빠르게 시작할 수 있게 해줄게! 하면서 등장함. 빠르게 많은 부분을 고민하지 않고 결정을 다 해준다는 거임. MVP라고 불리는 기본적인 기능을 가진 목표는 굉장히 유리하지만 대규모 서비스로 확장하다보면 한계에 부딛힘. 스프리 부트는 스타트 업이나 일반 기업에서 주요한 시스템을 만들때 운영 환경에서 이런건 꼭 있어야겠다 실무환경에서 필요한 것은 다 넣음. 대규모의 기업의 시스템에서 적용할 수 있게 여러가지 도와준다.

스프링 != 스프링 부트

강한 주장을 가지고 즉시 적용 가능한 기술 조합을 제공함. 빠르고 고민없이 개발할 수 있게 해주는 것의 다른 말임. 결정을 해버림.

## 스프링 부트의 역사

Containerless

컨리가 뭐임? 컨테이너가 없는? 컨테이너를 쓰지 말고 개발을 하는건가?
서버리스랑 비슷함. 서버 설치와 관리같은게 필요 없이 하자

컨테이너 관리를 신경쓰지 않고 개발을하자! 임
스프링은 IoC 컨테이너임. WEB COMPONENT (회원가입)를 개발하는거임. WEB REQUEST가 들어오면 Dynamic Content를 만들어서 Response로 보내는거임. 요청과 응답 쌍으로 돌아가고 하나 이상의 컴포넌트가 있음.

웹컴은 웹 컨테이너에 있어야함. 얘를 누군가가 실행시켜줘야함. 웹 컴폰ㄴ트가 서버쪽에 떠있으니까 컴포넌트를 메모리에 올리고 진입이 되는 인스턴스를 생성해주고 서비스 동안에 관리해주는게 필요함. 일생주기(라이프사이클을) 관리하줌.

엄청 많은 웹 컴포넌트가 있음. 회원가입, 로그인, 조회, 주문 등등의 여러 개의 웹 컴포넌트를 웹 컨테이너가 관리해줘야함. 웹 컨테이너는 ㅡㄹ라이언트의 요청을 어떤 컴포넌트에게 매핑해줘야할지 결정해줘야함. 라우팅, 핸드러 매팅이라고 함. 웹 요청을 담당하는 컴포넌트를 지정해주는 것임.

자바에서 웹 컴포넌트를 서블릿이라고 부름. 서블릿 = 웹 컴포넌트임. 서블릿 컨테이너 = 톰캣이 있음 대표적으로. 요청에 따라서 특정 서블릿을 처리할 수 있도록 해줌.

스프링 컨테이너는 서블릿 컨테이너 뒤쪽에 있음. 어떤 기능이 있는 컴포넌트가 있음. 이걸 빈이라고 함. 여러 개의 빈이 있고 서블릿을 통해서 들어온 요청을 스프링 컨테이너에 위임하고 이 빈이 이걸 처리해라. 라고 함. 빈 안에서도 다른 빈들의 도움이 필요할 때 다른 빈을 호출함.

서블릿 컨테이너가 존재해야 함. 자바 웹 표준 기술임. 그런데 문제는 스프링 애플리케이션을 개발하는데만 집중하고 싶음. 그넫 이걸 동작시키려면 서블릿 컨테이너가 무조건 떠야함. 근데 서블릿 컨테이너를 띄우는게 힘듬. 설정 방법들을 요구함. web.xml 파일이 있음. 

톰캣 같은거를 설치하고 실행시키고 만드러잊 ㄴwar 파일로 압축되어이 ㅆ는걸 배포해야함. 근데 배포 방식도 ㅈㄴ 다양함. 충돌도 나고 이런것도 해결해야함. 서블릿 컨테이너에서 설정해야 하는게 만흥ㅁ. 클래스 로더, 로깅은 어디서 봐야하는지. 너무 많음 ㅋㅋ;

간단한 hello world만 띄우고 싶은데도 너무 많음. 서블릿 컨테이너느 표준 스펙이고 그걸 구현한 제품을 사용해야 함. 대표적인 톰캣임. 근데 톰캣안쓰는 집단에 들어가며 큰일남. 새로 배워야함 ㅋㅋ; 학습 곡선이 어마어마함.

서블릿 컨테이너가 없는 서블릿 리스임. 서블릿 컨테이너라는건 필요하지만 이걸 설치하고 관리하기 위해서 시간을 들이고 학습을 해야하고 적용하는 수고가 없고 싶어용.

다 알아서 스프링 부트를 통해서 제공이 됨. 그거에 대한 설정은 신경을 쓰지 ㅇ낳고 동작시킬 수 있음. 어쨋건 몰라도 됨. 스프링 개발을 하려면 빈만 등록하는 방법만 알면 바로 웹 환경에서 동작하는 스프링 웹 어플리케이션을 만들 수 있음.

디폴트 설정을 해야하는건 알겠는데 더 흥미로운 건 서블릿 컨ㅌ에이너를 알려면 설치하고 실행시켜 줘야함. 서블릿 컨테이너가 한번 시작은 해야하잖아. 그 부분 조차도 없애버림. 스프링의 메인 메서드를 호출하면 이 전체가 동작하도록 함. 이게 독립실행형 어플리케이션임. 메인 메서드가 등작하는데 여기서 부터 시작을 함.

그것 만으로도 서블릿 컨테이너에 필요한 작업들을 해줄 수 있음.

## 오피니네이티드

자기 고집이 센.